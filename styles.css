/* ...existing styles... */
:root {
  --bg: hsl(27, 83%, 48%);
  --text: #ec7017;
  --muted: #d0d314;
  --line: #e5e5e5;
  --accent: #fa1717;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  background: url('background-pattern.png') fixed;
  color: var(--text);
  font-family: "Noto Sans", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

.app-header { padding: 24px; border-bottom: 1px solid var(--line); }
.app-header h1 { margin: 0; font-weight: 800; letter-spacing: -0.02em; }
.subtitle { margin: 6px 0 0; color: var(--muted); }

.app-main { padding: 24px; display: grid; gap: 24px; }
.deck-select { display: grid; grid-template-columns: 1fr 320px; gap: 24px; align-items: start; }

.roster { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 16px; }
.card {
  border: 1px solid var(--line);
  border-radius: 12px;
  padding: 14px;
  display: grid;
  gap: 10px;
  transition: transform 150ms ease, box-shadow 150ms ease;
  background: #fff;
}
.card:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.08); }
.card h3 { margin: 0; font-weight: 700; }
.meta { display: flex; gap: 8px; color: var(--muted); font-size: 13px; }

.badge { border: 1px solid var(--line); border-radius: 999px; padding: 2px 8px; }
.statline { display: flex; justify-content: space-between; font-size: 14px; }
.actions { display: flex; gap: 8px; }
button {
  appearance: none; border: 1px solid var(--line); background: #fff; color: var(--text);
  padding: 8px 12px; border-radius: 10px; cursor: pointer; transition: background 120ms ease, transform 120ms ease;
}
button:hover { background: #f7f7f7; }
button:active { transform: scale(0.98); }
button.primary { border-color: #000; }

.selection-panel { display: grid; gap: 12px; position: sticky; top: 24px; }
.team { display: grid; gap: 8px; min-height: 80px; border: 1px dashed var(--line); border-radius: 10px; padding: 8px; }
.team .mini { display: flex; justify-content: space-between; align-items: center; padding: 6px 8px; border: 1px solid var(--line); border-radius: 8px; }

.battle-arena { display: grid; grid-template-columns: 1fr auto 1fr; align-items: center; gap: 16px; }
.side { min-height: 240px; display: grid; place-items: center; }
.active-card { width: min(320px, 90%); }
.health {
  height: 10px; background: #eee; border-radius: 999px; overflow: hidden; border: 1px solid var(--line);
}
.health .bar {
  height: 100%; background: #111; width: 100%; transition: width 200ms ease;
}
.controls { display: flex; gap: 8px; justify-content: center; }
.turn-indicator { text-align: center; color: var(--muted); margin-bottom: 8px; }

.projectile-layer { position: relative; width: 100%; height: 240px; grid-column: 1 / -1; pointer-events: none; }

.shape { position: absolute; background: #000; border-radius: 50%; opacity: 0.9; }
.beam { position: absolute; height: 2px; background: #000; transform-origin: left center; }
.zig {
  position: absolute; width: 2px; background: #000;
  animation: ziggle 300ms linear infinite alternate;
}
@keyframes ziggle { from { transform: translateY(-2px); } to { transform: translateY(2px); } }

@media (max-width: 800px) {
  .deck-select { grid-template-columns: 1fr; }
  .projectile-layer { height: 180px; }
}

@media (pointer: coarse) {
  button { padding: 12px 16px; }
}

@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; }
}